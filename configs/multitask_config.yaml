# Configuration for Multi-Task Model

model:
  backbone: efficientnet_b0
  num_food_classes: 101
  pretrained: true
  freeze_backbone: false

data:
  data_dir: data/processed/multitask
  img_size: 224
  batch_size: 32
  num_workers: 4
  augmentation:
    horizontal_flip: 0.5
    rotation: 15
    shift_scale_rotate:
      shift_limit: 0.1
      scale_limit: 0.2
      rotate_limit: 15
    color_jitter:
      brightness: 0.2
      contrast: 0.2

training:
  epochs: 100
  learning_rate: 0.001
  optimizer: adamw
  weight_decay: 0.0001
  scheduler:
    type: cosine
    warmup_epochs: 5
  early_stopping:
    patience: 15
    min_delta: 0.001

# Task-specific loss weights
task_weights:
  classification: 1.0
  recognition: 1.0
  portion: 0.5

paths:
  save_dir: models/multitask
  log_dir: logs/multitask
  checkpoint_dir: models/multitask/checkpoints

target_metrics:
  classification_accuracy: 0.85
  recognition_top1_accuracy: 0.80
  portion_mae: 0.15
